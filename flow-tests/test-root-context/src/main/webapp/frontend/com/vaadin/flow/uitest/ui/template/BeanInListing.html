<!--
  ~ Copyright 2000-2019 Vaadin Ltd.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License"); you may not
  ~ use this file except in compliance with the License. You may obtain a copy of
  ~ the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
  ~ WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
  ~ License for the specific language governing permissions and limitations under
  ~ the License.
  -->
<!-- Using an absolute URL is a bad practice, but the nesting depth here makes it incovenient traverse up with ../.. -->
<link rel="import" href="/frontend/bower_components/polymer/polymer-element.html">
<link rel="import" href="/frontend/bower_components/polymer/lib/elements/dom-repeat.html">

<dom-module id="listing-bean-view">
    <template>
         <template is="dom-repeat" items="[[users]]">
            <div on-click="handleUserClick" class="user-item">[[item.name]]</div>
        </template>
        
        <template is="dom-repeat" items="[[messages]]">
            <div on-click="handleMsgClick" class="msg-item">[[item]]</div>
        </template>
        
        <label id="selected" style="display:block;">[[selected]]</label>
    </template>
    <script>
        class BeanListing extends Polymer.Element {
            static get is() { return 'listing-bean-view' }
            
            static get properties(){
                return {
                	activeUser: {
                       type: Object,
                       value: {},
                       notify: true
                   },
                   activeMessage: {
                       type: String,
                       value: null,
                       notify: true
                   }
                };
           }
            
            handleUserClick(event){
            	this.activeUser = event.model.item;
            }
            
            handleMsgClick(event){
                this.activeMessage = event.model.item;
            }
        }
        customElements.define(BeanListing.is, BeanListing);
    </script>
</dom-module>
